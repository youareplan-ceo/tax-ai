<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouArePlan TAX AI - 쉬운 세무 가계부</title>
    
    <!-- 토스 스타일 Pretendard 폰트 -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" rel="stylesheet">
    
    <!-- 프로덕션 스타일 -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="workflow-styles.css">
    <link rel="stylesheet" href="production-branding.css">
    
    <!-- 메타 태그 -->
    <meta name="description" content="YouArePlan TAX AI - 토스 스타일의 직관적인 세무 가계부">
    <meta name="keywords" content="세무, AI, 가계부, 유아플랜, 토스스타일">
    <meta name="author" content="유아플랜">
    
    <!-- PWA 매니페스트 -->
    <link rel="manifest" href="manifest.json">
    
    <!-- 파비콘 -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>💼</text></svg>">
    
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgZmlsbD0iIzAwNjRGRiIgcng9IjI0Ii8+CiAgPHRleHQgeD0iOTYiIHk9IjEyMCIgZm9udC1mYW1pbHk9IlByZXRlbmRhcmQsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iNzAiIGZvbnQtd2VpZ2h0PSI3MDAiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7wn5K8PC90ZXh0Pgo8L3N2Zz4K">
    
    <!-- 모바일 메타 태그 -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="TAX AI">
</head>
<body>
    <!-- 메인 배너 -->
    <div class="expert-banner">
        💼 누구나 쉽고 편리한 세무 가계부 - YouArePlan TAX AI
    </div>

    <!-- 프로덕션 헤더 -->
    <header class="production-header">
        <div class="production-header-container">
            <div class="brand-logo-section">
                <img src="assets/youareplan-logo.svg" alt="YouArePlan 로고" class="brand-logo-image">
                <div class="brand-info">
                    <h1 class="brand-main-title beta-badge">YouArePlan TAX AI</h1>
                    <p class="brand-subtitle">누구나 쉽게 사용하는 세무 가계부</p>
                </div>
            </div>
            
            <div class="trust-badges">
                <div class="trust-badge">
                    🔒 개인정보보호
                </div>
                <div class="trust-badge">
                    🛡️ 보안인증
                </div>
            </div>
            
            <div class="header-cta-section">
                <a href="https://youareplan.co.kr" target="_blank" rel="noopener noreferrer" class="cta-button cta-primary">
                    🏢 유아플랜 홈페이지
                </a>
            </div>
        </div>
    </header>

    <!-- 토스 스타일 탭 내비게이션 -->
    <div class="container">
        <nav class="tab-navigation" role="tablist" aria-label="메인 탭">
            <button class="tab-button active" data-tab="input" role="tab" aria-selected="true">
                <span aria-hidden="true">📋</span> 직접입력
            </button>
            <button class="tab-button" data-tab="upload" role="tab" aria-selected="false">
                <span aria-hidden="true">📁</span> 업로드
            </button>
            <button class="tab-button" data-tab="view" role="tab" aria-selected="false">
                <span aria-hidden="true">📊</span> 조회
            </button>
            <button class="tab-button" data-tab="calculate" role="tab" aria-selected="false">
                <span aria-hidden="true">💰</span> 계산
            </button>
            <button class="tab-button" data-tab="checklist" role="tab" aria-selected="false">
                <span aria-hidden="true">✅</span> 체크리스트
            </button>
            <button class="tab-button" data-tab="guide" role="tab" aria-selected="false">
                <span aria-hidden="true">📖</span> 가이드
            </button>
        </nav>

        <!-- 워크플로우 진행률 가이드 -->
        <div class="workflow-progress">
            <div class="workflow-title">세무 처리 진행 단계</div>
            <div class="workflow-steps">
                <div class="workflow-step active" data-step="input">
                    <div class="workflow-step-icon">1</div>
                    <div class="workflow-step-label">데이터<br>입력</div>
                </div>
                <div class="workflow-step" data-step="review">
                    <div class="workflow-step-icon">2</div>
                    <div class="workflow-step-label">데이터<br>확인</div>
                </div>
                <div class="workflow-step" data-step="calculate">
                    <div class="workflow-step-icon">3</div>
                    <div class="workflow-step-label">세액<br>계산</div>
                </div>
                <div class="workflow-step" data-step="submit">
                    <div class="workflow-step-icon">4</div>
                    <div class="workflow-step-label">홈택스<br>신고</div>
                </div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" style="width: 20%"></div>
            </div>
            <p class="text-sm text-gray-600 mt-2 text-center">단계 1: 데이터 입력 진행 중</p>
        </div>
    </div>

    <!-- 콘텐츠 섹션들 -->
    <main class="container">
        <!-- 직접 입력 섹션 -->
        <section id="input-section" class="content-section active" role="tabpanel" aria-labelledby="input-tab">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">거래 직접 입력</h2>
                    <span class="result-status success">준비완료</span>
                </div>
                <p class="card-description">
                    거래 내역을 직접 입력하여 실시간으로 세무 데이터를 관리하세요.
                </p>
                
                <!-- 거래 입력 폼 -->
                <form class="transaction-form" id="transaction-form">
                    <div class="form-grid">
                        <!-- 거래일자 -->
                        <div class="form-group">
                            <label class="form-label" for="transaction-date">거래일자</label>
                            <input type="date" id="transaction-date" class="input" required>
                            <div class="form-helper">거래가 발생한 날짜를 선택하세요</div>
                        </div>

                        <!-- 거래처 -->
                        <div class="form-group">
                            <label class="form-label" for="business-name">거래처명</label>
                            <input type="text" id="business-name" class="input" placeholder="거래처명을 입력하세요" required>
                            <div class="form-helper">자주 사용하는 거래처는 자동완성됩니다</div>
                        </div>

                        <!-- 사업자번호 (선택사항) -->
                        <div class="form-group">
                            <label class="form-label" for="business-number">사업자번호 (선택)</label>
                            <input type="text" id="business-number" class="input" placeholder="000-00-00000" pattern="[0-9]{3}-[0-9]{2}-[0-9]{5}">
                            <div class="form-helper">세금계산서 발행 시 필요한 정보입니다</div>
                        </div>

                        <!-- 거래 구분 -->
                        <div class="form-group">
                            <label class="form-label">거래 구분</label>
                            <div class="radio-group">
                                <label class="radio-option">
                                    <input type="radio" name="transaction-type" value="income" checked>
                                    <span class="radio-button success">매출</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="transaction-type" value="expense">
                                    <span class="radio-button error">매입</span>
                                </label>
                            </div>
                        </div>

                        <!-- 금액 -->
                        <div class="form-group">
                            <label class="form-label" for="amount">거래금액</label>
                            <div class="amount-input-container">
                                <input type="number" id="amount" class="input amount-input" placeholder="0" min="0" required>
                                <span class="currency-symbol">원</span>
                            </div>
                            <div class="form-helper">세전 금액을 입력하세요</div>
                        </div>

                        <!-- 부가세 -->
                        <div class="form-group">
                            <label class="form-label">부가가치세</label>
                            <div class="vat-container">
                                <label class="checkbox-option">
                                    <input type="checkbox" id="auto-vat" checked>
                                    <span class="checkbox-mark"></span>
                                    <span>자동계산 (10%)</span>
                                </label>
                                <input type="number" id="vat-amount" class="input vat-input" placeholder="0" min="0" disabled>
                                <span class="currency-symbol">원</span>
                            </div>
                        </div>

                        <!-- 메모 -->
                        <div class="form-group full-width">
                            <label class="form-label" for="memo">메모 (선택사항)</label>
                            <textarea id="memo" class="input" placeholder="거래 내용이나 용도를 입력하세요" rows="3"></textarea>
                        </div>
                    </div>

                    <!-- 저장 버튼 -->
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary btn-lg w-full">
                            <span aria-hidden="true">💾</span>
                            저장하기
                        </button>
                        <div class="next-step-guide mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200">
                            <h4 class="font-semibold text-blue-800 mb-2">다음 단계</h4>
                            <p class="text-blue-700 text-sm">거래 입력 후 '조회' 탭에서 데이터를 확인하고 '계산' 탭에서 세액을 확인하세요.</p>
                        </div>
                    </div>
                </form>
            </div>
            
            <!-- 최근 입력한 거래 미리보기 -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">최근 입력한 거래</h3>
                    <span class="result-status info" id="transaction-count">0건</span>
                </div>
                
                <!-- 거래 요약 -->
                <div class="transaction-summary">
                    <div class="summary-item">
                        <span class="summary-label">총 매출</span>
                        <span class="summary-amount success" id="total-income">0원</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">총 매입</span>
                        <span class="summary-amount error" id="total-expense">0원</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">순이익</span>
                        <span class="summary-amount" id="net-profit">0원</span>
                    </div>
                </div>
                
                <!-- 거래 목록 -->
                <div class="recent-transactions" id="recent-transactions">
                    <div class="empty-state">
                        <div class="empty-icon">📝</div>
                        <p class="empty-message">아직 입력된 거래가 없습니다.</p>
                        <p class="empty-submessage">위 폼을 사용해 첫 거래를 입력해보세요.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 업로드 섹션 -->
        <section id="upload-section" class="content-section" role="tabpanel" aria-labelledby="upload-tab">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">파일 업로드</h2>
                    <span class="result-status success">준비완료</span>
                </div>
                <p class="card-description">
                    CSV 또는 Excel 파일을 업로드하여 세무 데이터를 분석하세요. 
                    AI가 자동으로 분류하고 세무 처리를 도와드립니다.
                </p>
                
                <!-- 토스 스타일 드래그앤드롭 업로드 -->
                <div class="upload-zone" id="upload-zone">
                    <div class="upload-icon">📁</div>
                    <h3 class="upload-title">파일을 여기에 드래그하거나 클릭하세요</h3>
                    <p class="upload-subtitle">CSV, XLSX, XLS 파일만 지원 (최대 10MB)</p>
                    <button class="btn btn-primary btn-lg">파일 선택</button>
                    <input type="file" id="file-input" accept=".csv,.xlsx,.xls" style="display: none;">
                </div>
                
                <!-- 업로드 결과 영역 -->
                <div id="upload-result" class="hidden">
                    <h3 class="card-title">업로드 완료</h3>
                    <div class="result-item">
                        <div class="result-header">
                            <span class="result-title" id="uploaded-filename">파일명.csv</span>
                            <span class="result-status success">성공</span>
                        </div>
                        <div class="result-details" id="upload-details">
                            처리된 항목: <strong id="processed-count">0</strong>개<br>
                            처리 시간: <strong id="processing-time">0</strong>초
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 조회 섹션 -->
        <section id="view-section" class="content-section" role="tabpanel" aria-labelledby="view-tab">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">📊 통합 데이터 조회</h2>
                    <span class="result-status info">실시간 동기화</span>
                </div>
                <p class="card-description">
                    직접입력과 CSV 업로드 데이터를 통합하여 확인하고 관리할 수 있습니다.
                </p>
                
                <!-- 필터 및 검색 영역 -->
                <div class="transaction-filters">
                    <div class="filter-row">
                        <!-- 기간 필터 -->
                        <div class="filter-group">
                            <label class="filter-label">기간</label>
                            <select id="period-filter" class="filter-select">
                                <option value="all">전체</option>
                                <option value="current-month" selected>이번달</option>
                                <option value="last-month">지난달</option>
                                <option value="current-quarter">이번 분기</option>
                            </select>
                        </div>

                        <!-- 거래 유형 필터 -->
                        <div class="filter-group">
                            <label class="filter-label">구분</label>
                            <select id="type-filter" class="filter-select">
                                <option value="all">전체</option>
                                <option value="income">매출</option>
                                <option value="expense">매입</option>
                            </select>
                        </div>

                        <!-- 검색 -->
                        <div class="filter-group search-group">
                            <label class="filter-label">검색</label>
                            <div class="search-input-container">
                                <input type="text" id="search-input" class="search-input" placeholder="거래처명으로 검색...">
                                <button class="search-button" id="search-button">
                                    <span aria-hidden="true">🔍</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="filter-actions">
                        <button class="btn btn-secondary btn-sm" id="reset-filters">필터 초기화</button>
                        <div class="results-info">
                            <span id="results-count">검색 중...</span>
                        </div>
                    </div>
                </div>

                <!-- 거래 목록 테이블 (데스크톱) -->
                <div class="transaction-table-container desktop-only">
                    <table class="transaction-table" id="transaction-table">
                        <thead>
                            <tr>
                                <th class="sortable" data-sort="date">
                                    날짜 <span class="sort-indicator"></span>
                                </th>
                                <th class="sortable" data-sort="vendor">
                                    거래처 <span class="sort-indicator"></span>
                                </th>
                                <th>구분</th>
                                <th class="sortable" data-sort="amount">
                                    금액 <span class="sort-indicator"></span>
                                </th>
                                <th>부가세</th>
                                <th>분류 상태</th>
                                <th>액션</th>
                            </tr>
                        </thead>
                        <tbody id="transaction-table-body">
                            <!-- 동적으로 채워집니다 -->
                        </tbody>
                    </table>
                </div>

                <!-- 거래 목록 카드 (모바일) -->
                <div class="transaction-cards mobile-only" id="transaction-cards">
                    <!-- 동적으로 채워집니다 -->
                </div>

                <!-- 로딩 상태 -->
                <div class="loading-state" id="transactions-loading">
                    <div class="loading-spinner"></div>
                    <p>거래 데이터를 불러오는 중...</p>
                </div>

                <!-- 빈 상태 -->
                <div class="empty-state hidden" id="transactions-empty">
                    <div class="empty-icon">📝</div>
                    <p class="empty-message">조회된 거래가 없습니다.</p>
                    <p class="empty-submessage">필터 조건을 변경하거나 새로운 거래를 입력해보세요.</p>
                </div>

                <!-- 페이지네이션 -->
                <div class="pagination-container" id="pagination-container">
                    <div class="pagination-info">
                        <span id="pagination-info-text">1-10 / 33개</span>
                    </div>
                    <div class="pagination-controls">
                        <button class="pagination-btn" id="prev-page" disabled>
                            <span aria-hidden="true">←</span> 이전
                        </button>
                        <div class="pagination-numbers" id="pagination-numbers">
                            <!-- 동적으로 생성 -->
                        </div>
                        <button class="pagination-btn" id="next-page">
                            다음 <span aria-hidden="true">→</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 계산 섹션 -->
        <section id="calculate-section" class="content-section" role="tabpanel" aria-labelledby="calculate-tab">
            <div id="tax-calculation-results">
                <!-- 실시간 세무 대시보드가 동적으로 렌더링됩니다 -->
            </div>
        </section>

        <!-- 체크리스트 섹션 -->
        <section id="checklist-section" class="content-section" role="tabpanel" aria-labelledby="checklist-tab">
            <div id="checklist-content">
                <!-- 스마트 체크리스트가 동적으로 렌더링됩니다 -->
            </div>
        </section>

        <!-- 신고 가이드 섹션 -->
        <section id="guide-section" class="content-section" role="tabpanel" aria-labelledby="guide-tab">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">📖 세무 신고 가이드</h2>
                    <p class="card-description">
                        홈택스를 통한 세무 신고 절차를 단계별로 안내합니다. 실제 화면과 함께 진행하세요.
                    </p>
                </div>

                <!-- 세금 종류 선택 -->
                <div class="guide-tax-selector">
                    <div class="selector-header">
                        <h3>신고할 세금 종류를 선택하세요</h3>
                    </div>
                    <div class="tax-type-cards">
                        <div class="tax-type-card active" data-tax-type="vat">
                            <div class="tax-type-icon">💰</div>
                            <div class="tax-type-title">부가가치세</div>
                            <div class="tax-type-description">매출세액과 매입세액 신고</div>
                            <div class="tax-type-period">분기별 신고</div>
                        </div>
                        <div class="tax-type-card" data-tax-type="income">
                            <div class="tax-type-icon">📊</div>
                            <div class="tax-type-title">종합소득세</div>
                            <div class="tax-type-description">연간 소득에 대한 종합 신고</div>
                            <div class="tax-type-period">연 1회 신고 (5월)</div>
                        </div>
                        <div class="tax-type-card" data-tax-type="year-end">
                            <div class="tax-type-icon">📋</div>
                            <div class="tax-type-title">연말정산</div>
                            <div class="tax-type-description">근로소득 연말정산</div>
                            <div class="tax-type-period">2~3월 신고</div>
                        </div>
                    </div>
                </div>

                <!-- 가이드 콘텐츠 영역 -->
                <div id="guide-content">
                    <!-- 선택된 세금 종류에 따른 가이드가 동적으로 렌더링됩니다 -->
                </div>
            </div>
        </section>
    </main>

    <!-- 토스트 알림 컨테이너 -->
    <div id="toast-container"></div>

    <!-- 프로덕션 푸터 -->
    <footer class="production-footer">
        <div class="production-footer-container">
            <div class="footer-content">
                <div class="footer-brand">
                    <img src="assets/youareplan-logo.svg" alt="YouArePlan" class="footer-logo">
                    <p class="footer-description">
                        유아플랜은 세무 업무의 디지털 혁신을 통해
                        누구나 쉽게 세무 가계부를 관리할 수 있도록 지원합니다.
                    </p>
                    <div class="footer-contact">
                        <a href="https://youareplan.co.kr" target="_blank" rel="noopener noreferrer" class="footer-contact-item">
                            🌐 youareplan.co.kr
                        </a>
                        <a href="mailto:contact@youareplan.co.kr" class="footer-contact-item">
                            📧 contact@youareplan.co.kr
                        </a>
                        <a href="tel:02-1234-5678" class="footer-contact-item">
                            📞 02-1234-5678
                        </a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>서비스</h4>
                    <div class="footer-links">
                        <a href="#" class="footer-link">세무 AI 가계부</a>
                        <a href="#" class="footer-link">세무 자료 가이드</a>
                        <a href="#" class="footer-link">세무 계산기</a>
                        <a href="#" class="footer-link">기업 세무 관리</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>고객지원</h4>
                    <div class="footer-links">
                        <a href="#" class="footer-link">사용 가이드</a>
                        <a href="#" class="footer-link">FAQ</a>
                        <a href="#" class="footer-link">세무 가이드</a>
                        <a href="#" class="footer-link">기술 지원</a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>회사 정보</h4>
                    <div class="footer-links">
                        <a href="#" class="footer-link">회사 소개</a>
                        <a href="#" class="footer-link">팀 소개</a>
                        <a href="#" class="footer-link">채용 정보</a>
                        <a href="#" class="footer-link">보도자료</a>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="footer-copyright">
                    © 2025 유아플랜. All rights reserved. | 사업자등록번호: 123-45-67890
                </div>
                <div class="footer-legal">
                    <a href="#" class="footer-legal-link">이용약관</a>
                    <a href="#" class="footer-legal-link">개인정보처리방침</a>
                    <a href="#" class="footer-legal-link">면책조항</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="app.js"></script>
    <script src="api-integration.js"></script>
    <script src="workflow-integration.js"></script>
    <script src="tax-dashboard.js"></script>
    <script src="smart-checklist.js"></script>
    <script src="production-features.js"></script>
    <script src="onboarding-system.js"></script>
    <script src="error-handling.js"></script>
    <script src="receipt-ocr.js"></script>
    <script src="legal-compliance.js"></script>
    <script src="transaction-list.js"></script>
    <script src="tax-guide.js"></script>
    
    <!-- PWA 서비스 워커 등록 -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('SW registered: ', registration);
                    })
                    .catch(function(registrationError) {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>
</html>