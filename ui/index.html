<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouArePlan TAX AI - 세무 코파일럿</title>
    
    <!-- 토스 스타일 Pretendard 폰트 -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" rel="stylesheet">
    
    <!-- 토스 스타일 CSS -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="workflow-styles.css">
    
    <!-- 메타 태그 -->
    <meta name="description" content="YouArePlan TAX AI - 토스 스타일의 직관적인 세무 코파일럿">
    <meta name="keywords" content="세무, AI, 코파일럿, 유아플랜, 토스스타일">
    <meta name="author" content="유아플랜 컨설팅">
    
    <!-- 파비콘 -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>💼</text></svg>">
</head>
<body>
    <!-- 토스 스타일 헤더 -->
    <header class="header">
        <div class="header-container">
            <div class="brand-section">
                <h1 class="brand-logo">YouArePlan</h1>
                <p class="brand-subtitle">TAX AI - 세무 코파일럿</p>
            </div>
        </div>
    </header>

    <!-- 토스 스타일 탭 내비게이션 -->
    <div class="container">
        <nav class="tab-navigation" role="tablist" aria-label="메인 탭">
            <button class="tab-button active" data-tab="input" role="tab" aria-selected="true">
                <span aria-hidden="true">📋</span> 직접입력
            </button>
            <button class="tab-button" data-tab="upload" role="tab" aria-selected="false">
                <span aria-hidden="true">📁</span> 업로드
            </button>
            <button class="tab-button" data-tab="view" role="tab" aria-selected="false">
                <span aria-hidden="true">📊</span> 조회
            </button>
            <button class="tab-button" data-tab="calculate" role="tab" aria-selected="false">
                <span aria-hidden="true">💰</span> 계산
            </button>
            <button class="tab-button" data-tab="checklist" role="tab" aria-selected="false">
                <span aria-hidden="true">✅</span> 체크리스트
            </button>
        </nav>

        <!-- 워크플로우 진행률 가이드 -->
        <div class="workflow-progress">
            <div class="workflow-title">세무 처리 진행 단계</div>
            <div class="workflow-steps">
                <div class="workflow-step active" data-step="input">
                    <div class="workflow-step-icon">1</div>
                    <div class="workflow-step-label">데이터<br>입력</div>
                </div>
                <div class="workflow-step" data-step="review">
                    <div class="workflow-step-icon">2</div>
                    <div class="workflow-step-label">데이터<br>확인</div>
                </div>
                <div class="workflow-step" data-step="calculate">
                    <div class="workflow-step-icon">3</div>
                    <div class="workflow-step-label">세액<br>계산</div>
                </div>
                <div class="workflow-step" data-step="submit">
                    <div class="workflow-step-icon">4</div>
                    <div class="workflow-step-label">홈택스<br>신고</div>
                </div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" style="width: 20%"></div>
            </div>
            <p class="text-sm text-gray-600 mt-2 text-center">단계 1: 데이터 입력 진행 중</p>
        </div>
    </div>

    <!-- 콘텐츠 섹션들 -->
    <main class="container">
        <!-- 직접 입력 섹션 -->
        <section id="input-section" class="content-section active" role="tabpanel" aria-labelledby="input-tab">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">거래 직접 입력</h2>
                    <span class="result-status success">준비완료</span>
                </div>
                <p class="card-description">
                    거래 내역을 직접 입력하여 실시간으로 세무 데이터를 관리하세요.
                </p>
                
                <!-- 거래 입력 폼 -->
                <form class="transaction-form" id="transaction-form">
                    <div class="form-grid">
                        <!-- 거래일자 -->
                        <div class="form-group">
                            <label class="form-label" for="transaction-date">거래일자</label>
                            <input type="date" id="transaction-date" class="input" required>
                            <div class="form-helper">거래가 발생한 날짜를 선택하세요</div>
                        </div>

                        <!-- 거래처 -->
                        <div class="form-group">
                            <label class="form-label" for="business-name">거래처명</label>
                            <input type="text" id="business-name" class="input" placeholder="거래처명을 입력하세요" required>
                            <div class="form-helper">자주 사용하는 거래처는 자동완성됩니다</div>
                        </div>
                        
                        <!-- 거래 구분 -->
                        <div class="form-group">
                            <label class="form-label">거래 구분</label>
                            <div class="radio-group">
                                <label class="radio-option">
                                    <input type="radio" name="transaction-type" value="income" checked>
                                    <span class="radio-button success">매출</span>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="transaction-type" value="expense">
                                    <span class="radio-button error">매입</span>
                                </label>
                            </div>
                        </div>

                        <!-- 금액 -->
                        <div class="form-group">
                            <label class="form-label" for="amount">거래금액</label>
                            <div class="amount-input-container">
                                <input type="number" id="amount" class="input amount-input" placeholder="0" min="0" required>
                                <span class="currency-symbol">원</span>
                            </div>
                            <div class="form-helper">세전 금액을 입력하세요</div>
                        </div>

                        <!-- 부가세 -->
                        <div class="form-group">
                            <label class="form-label">부가가치세</label>
                            <div class="vat-container">
                                <label class="checkbox-option">
                                    <input type="checkbox" id="auto-vat" checked>
                                    <span class="checkbox-mark"></span>
                                    <span>자동계산 (10%)</span>
                                </label>
                                <input type="number" id="vat-amount" class="input vat-input" placeholder="0" min="0" disabled>
                                <span class="currency-symbol">원</span>
                            </div>
                        </div>

                        <!-- 메모 -->
                        <div class="form-group full-width">
                            <label class="form-label" for="memo">메모 (선택사항)</label>
                            <textarea id="memo" class="input" placeholder="거래 내용이나 용도를 입력하세요" rows="3"></textarea>
                        </div>
                    </div>

                    <!-- 저장 버튼 -->
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary btn-lg w-full">
                            <span aria-hidden="true">💾</span>
                            저장하기
                        </button>
                        <div class="next-step-guide mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200">
                            <h4 class="font-semibold text-blue-800 mb-2">다음 단계</h4>
                            <p class="text-blue-700 text-sm">거래 입력 후 '조회' 탭에서 데이터를 확인하고 '계산' 탭에서 세액을 확인하세요.</p>
                        </div>
                    </div>
                </form>
            </div>
            
            <!-- 최근 입력한 거래 미리보기 -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">최근 입력한 거래</h3>
                    <span class="result-status info" id="transaction-count">0건</span>
                </div>
                
                <!-- 거래 요약 -->
                <div class="transaction-summary">
                    <div class="summary-item">
                        <span class="summary-label">총 매출</span>
                        <span class="summary-amount success" id="total-income">0원</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">총 매입</span>
                        <span class="summary-amount error" id="total-expense">0원</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">순이익</span>
                        <span class="summary-amount" id="net-profit">0원</span>
                    </div>
                </div>
                
                <!-- 거래 목록 -->
                <div class="recent-transactions" id="recent-transactions">
                    <div class="empty-state">
                        <div class="empty-icon">📝</div>
                        <p class="empty-message">아직 입력된 거래가 없습니다.</p>
                        <p class="empty-submessage">위 폼을 사용해 첫 거래를 입력해보세요.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 업로드 섹션 -->
        <section id="upload-section" class="content-section" role="tabpanel" aria-labelledby="upload-tab">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">파일 업로드</h2>
                    <span class="result-status success">준비완료</span>
                </div>
                <p class="card-description">
                    CSV 또는 Excel 파일을 업로드하여 세무 데이터를 분석하세요. 
                    AI가 자동으로 분류하고 세무 처리를 도와드립니다.
                </p>
                
                <!-- 토스 스타일 드래그앤드롭 업로드 -->
                <div class="upload-zone" id="upload-zone">
                    <div class="upload-icon">📁</div>
                    <h3 class="upload-title">파일을 여기에 드래그하거나 클릭하세요</h3>
                    <p class="upload-subtitle">CSV, XLSX, XLS 파일만 지원 (최대 10MB)</p>
                    <button class="btn btn-primary btn-lg">파일 선택</button>
                    <input type="file" id="file-input" accept=".csv,.xlsx,.xls" style="display: none;">
                </div>
                
                <!-- 업로드 결과 영역 -->
                <div id="upload-result" class="hidden">
                    <h3 class="card-title">업로드 완료</h3>
                    <div class="result-item">
                        <div class="result-header">
                            <span class="result-title" id="uploaded-filename">파일명.csv</span>
                            <span class="result-status success">성공</span>
                        </div>
                        <div class="result-details" id="upload-details">
                            처리된 항목: <strong id="processed-count">0</strong>개<br>
                            처리 시간: <strong id="processing-time">0</strong>초
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 조회 섹션 -->
        <section id="view-section" class="content-section" role="tabpanel" aria-labelledby="view-tab">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">📊 통합 데이터 조회</h2>
                    <span class="result-status info">실시간 동기화</span>
                </div>
                <p class="card-description">
                    직접입력과 CSV 업로드 데이터를 통합하여 확인하고 관리할 수 있습니다.
                </p>
                
                <!-- 통합 거래 데이터 목록 -->
                <div id="recent-transactions-list">
                    <!-- 동적으로 렌더링됩니다 -->
                </div>
            </div>
        </section>

        <!-- 계산 섹션 -->
        <section id="calculate-section" class="content-section" role="tabpanel" aria-labelledby="calculate-tab">
            <div id="tax-calculation-results">
                <!-- 실시간 세무 대시보드가 동적으로 렌더링됩니다 -->
            </div>
        </section>

        <!-- 체크리스트 섹션 -->
        <section id="checklist-section" class="content-section" role="tabpanel" aria-labelledby="checklist-tab">
            <div id="checklist-content">
                <!-- 스마트 체크리스트가 동적으로 렌더링됩니다 -->
            </div>
        </section>
    </main>

    <!-- 토스트 알림 컨테이너 -->
    <div id="toast-container"></div>

    <!-- 토스 스타일 푸터 -->
    <footer class="footer">
        <div class="footer-content">
            <p class="footer-brand">© 2025 유아플랜 컨설팅</p>
            <p>
                <a href="https://youareplan.co.kr" class="footer-link" target="_blank">youareplan.co.kr</a> |
                <a href="mailto:contact@youareplan.co.kr" class="footer-link">contact@youareplan.co.kr</a>
            </p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="app.js"></script>
    <script src="api-integration.js"></script>
    <script src="workflow-integration.js"></script>
    <script src="tax-dashboard.js"></script>
    <script src="smart-checklist.js"></script>
</body>
</html>